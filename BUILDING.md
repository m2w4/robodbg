Building
===============

## 1) Prerequisites

- **OS**: Windows 10/11 (x64)
- **Compiler**: Visual Studio 15/22 (MSVC v143) or the VS 15/22 **Build Tools**
- **CMake**: ≥ 3.23
- **Git**
- **Python** (optional, for the extension): 3.9–3.12
- **Doxygen** (optional, for docs)

> Tip: Use the **“x64 Native Tools Command Prompt for VS 2022”** or **“Developer PowerShell for VS 2022”** so `cl.exe` is on PATH.

---

## 2) Get the source

```
git clone https://github.com/m2w4/robodbg.git
cd robodbg

:: If you want the bundled pybind11 for the Python extension:
git submodule update --init --recursive
```

## 3) Configure build options

| Option                | Type   | Default | Description                                           |
| --------------------- | ------ | ------- | ----------------------------------------------------- |
| `BUILD_SHARED_LIBS`   | ON/OFF | OFF     | Build DLL instead of static lib.                      |
| `ROBO_BUILD_PYTHON`   | ON/OFF | ON      | Build the `robodbg` Python extension (.pyd).          |
| `ROBO_BUILD_EXAMPLES` | ON/OFF | ON      | Build example programs in `examples/`.                |
| `ROBO_BUILD_TESTS`    | ON/OFF | ON      | Build tests in `tests/` and enable `ctest`.           |
| `ROBO_BUILD_DOCS`     | ON/OFF | ON      | Enable `docs` target (requires Doxygen + `Doxyfile`). |


## 4) Configure & build (Release)

```
:: From repo root
cmake -S . -B build -DROBO_BUILD_PYTHON=ON -DROBO_BUILD_EXAMPLES=ON -DROBO_BUILD_TESTS=ON -DROBO_BUILD_DOCS=ON

:: Build (choose Release for distribution)
cmake --build build --config Release
```

## 5) Artifacts

* C++ library: build/src/Release/robodbg.lib (or .dll when shared)

* Python module: build/python/robodbg.pyd

* Docs (if enabled): generated by the docs target (see §8)


## Building Docs

To compile the doxygen documentation, which should include any protected and public function in the main Debugger class, run:

```
cmake --build build --target docs
```

## Building Tests

To compile the test debugger and test application, run from a x86 VS Developer Prompt:
```
make_tests.bat
```

⚠️ The TestMe.exe application may not always compile to an identical binary. For increasing the chance use the Visual Studio 2022 Developer Command Prompt.
If the output changes, you may need to update hardcoded offsets in testDebugger.cpp accordingly.
